# نظام تداول العملات الرقمية على منصة MEXC

## نظرة عامة

نظام تداول العملات الرقمية المتطور مع إمكانية التحقق المزدوج من الصفقات وتطبيق استراتيجية الأهداف المتعددة.

## الميزات الرئيسية

- التحقق التلقائي من الصفقات الحقيقية ومسح الصفقات الوهمية
- فتح حتى 5 صفقات متنوعة في وقت واحد (5 دولار لكل صفقة)
- استراتيجية الأهداف المتعددة (0.5%، 1%، 2%)
- وقف الخسارة التلقائي عند -0.1%
- تنويع العملات لضمان عدم تكرار الصفقات
- إشعارات تلغرام مع تفاصيل الصفقات
- عمليات التحقق المتعددة لتأكيد الصفقات الحقيقية

## كيفية الاستخدام

### التثبيت

1. تأكد من وجود متغيرات البيئة التالية:
   - `MEXC_API_KEY`: مفتاح API لمنصة MEXC
   - `MEXC_API_SECRET`: سر API لمنصة MEXC
   - `TELEGRAM_BOT_TOKEN`: رمز بوت تلغرام (اختياري للإشعارات)
   - `TELEGRAM_CHAT_ID`: معرف محادثة تلغرام (اختياري للإشعارات)

### الأوامر الأساسية

تم توحيد جميع الوظائف في ملف واحد `trade_manager.py` مع خيارات متعددة:

- **التحقق من الصفقات**: للتحقق من الصفقات الحقيقية ومسح الصفقات الوهمية
  ```
  python trade_manager.py --verify
  ```

- **تطبيق قواعد الربح**: لتطبيق أهداف الربح ووقف الخسارة على الصفقات الحقيقية
  ```
  python trade_manager.py --profit
  ```

- **فتح صفقات جديدة**: لفتح صفقات جديدة (افتراضياً 5 صفقات)
  ```
  python trade_manager.py --open
  ```

- **إغلاق جميع الصفقات**: لإغلاق جميع الصفقات المفتوحة
  ```
  python trade_manager.py --close
  ```

- **تشغيل جميع العمليات**: للقيام بالتحقق وتطبيق قواعد الربح وفتح صفقات جديدة
  ```
  python trade_manager.py --all
  ```

### إعدادات التداول

يمكن تعديل إعدادات التداول في الملف `trade_manager.py`:

```python
TRADE_SETTINGS = {
    'total_capital': 25.0,        # رأس المال الإجمالي (5 دولار × 5 صفقات)
    'amount_per_trade': 5.0,      # 5 دولار لكل صفقة
    'max_trades': 5,              # الحد الأقصى لعدد الصفقات المفتوحة
    'profit_targets': [0.5, 1.0, 2.0],  # أهداف الربح بالنسبة المئوية
    'stop_loss': -0.1,            # وقف الخسارة بالنسبة المئوية
    'blacklisted_symbols': ['XRPUSDT'],  # العملات المحظورة
}
```

### العملات المفضلة

يمكن تعديل قائمة العملات المفضلة في الملف `trade_manager.py`:

```python
PREFERRED_COINS = [
    'BTCUSDT',     # بيتكوين
    'ETHUSDT',     # إيثريوم
    'SOLUSDT',     # سولانا
    'AVAXUSDT',    # أفالانش
    'DOTUSDT',     # بولكادوت
    'BNBUSDT',     # بينانس كوين
    'MATICUSDT',   # بوليجون
    'ADAUSDT',     # كاردانو
    'APTUSDT',     # ابتوس
    'NEARUSDT',    # نير
    'ATOMUSDT',    # كوزموس
]
```

## إعداد الإشعارات

لتفعيل إشعارات تلغرام، تأكد من إضافة المتغيرات التالية:

```
TELEGRAM_BOT_TOKEN=your_bot_token
TELEGRAM_CHAT_ID=your_chat_id
```

## الملفات الرئيسية

- **trade_manager.py**: نظام إدارة التداول الموحد
- **main.py**: واجهة الويب للنظام
- **app/mexc_api.py**: واجهة التعامل مع منصة MEXC
- **app/telegram_notify.py**: نظام الإشعارات
- **app/config.py**: ملف الإعدادات

## مصادر إضافية

تم تبسيط النظام من خلال توحيد العديد من الملفات المتداخلة في ملف واحد. يمكنك الاطلاع على الملف `REMOVED_FILES.md` للحصول على قائمة بالملفات التي تم استبدالها.