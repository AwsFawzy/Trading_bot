# بنية مشروع بوت التداول الآلي

هذا المستند يوفر نظرة عامة على بنية المشروع والملفات الرئيسية وأدوارها.

## الملفات الرئيسية

### الملفات الجذرية

- `main.py` - نقطة الدخول الرئيسية للتطبيق، يبدأ خادم Flask ويهيئ البوت
- `.env` - يحتوي على المتغيرات البيئية والمفاتيح السرية (غير موجود في المستودع لأسباب أمنية)
- `.env-example` - نموذج للمتغيرات البيئية المطلوبة
- `active_trades.json` - يخزن معلومات الصفقات الحالية والسابقة
- `dependencies.txt` - قائمة بالمكتبات والتبعيات المطلوبة

### مجلد app/

#### وحدات المنطق الأساسية

- `trading_bot.py` - المحرك الرئيسي للبوت، يدير دورات المراقبة والتداول
- `trade_logic.py` - منطق اتخاذ قرارات التداول (البيع والشراء)
- `trade_executor.py` - تنفيذ أوامر التداول الفعلية
- `market_scanner.py` - مسح السوق للبحث عن فرص التداول
- `capital_manager.py` - إدارة رأس المال وتخصيصه
- `config.py` - إعدادات التكوين العامة للبوت
- `risk_manager.py` - إدارة المخاطر وحماية رأس المال

#### تكامل المنصة

- `mexc_api.py` - واجهة التفاعل مع منصة MEXC
- `exchange_manager.py` - إدارة التفاعلات مع منصات التداول

#### وحدات المراقبة والتحليل

- `market_analyzer.py` - تحليل السوق واتجاهات الأسعار
- `market_monitor.py` - مراقبة السوق بشكل مستمر
- `ai_indicators.py` - مؤشرات تحليلية معززة بالذكاء الاصطناعي
- `ai_model.py` - نماذج الذكاء الاصطناعي للتنبؤ
- `candlestick_patterns.py` - تحليل أنماط الشموع اليابانية

#### الأدوات المساعدة

- `watchdog.py` - نظام مراقبة لضمان استمرارية عمل البوت
- `clean_trades.py` - تنظيف وصيانة ملف الصفقات
- `telegram_notify.py` - إرسال إشعارات عبر تلجرام
- `utils.py` - وظائف وأدوات مساعدة متنوعة
- `__init__.py` - ملف تهيئة حزمة Python

### واجهة المستخدم

#### قوالب الويب (app/templates/)

- `dashboard.html` - لوحة التحكم الرئيسية
- `mobile_dashboard.html` - نسخة متوافقة مع الأجهزة المحمولة
- `coin_details.html` - تفاصيل العملة المشفرة
- `trades.html` - عرض الصفقات الحالية والسابقة
- `watched_coins.html` - قائمة العملات المراقبة
- `settings.html` - إعدادات البوت
- `api_settings.html` - إعدادات API
- `base.html` - القالب الأساسي المشترك

## تفصيل المكونات الرئيسية

### دورة التداول الأساسية

1. `trading_bot.py` يبدأ خيط منفصل للمراقبة والتداول
2. `market_scanner.py` يبحث عن العملات ذات الأولوية العالية ويحللها
3. `trade_logic.py` يحدد الفرص المناسبة بناءً على معايير محددة
4. `capital_manager.py` يخصص المبلغ المناسب للصفقة
5. `mexc_api.py` ينفذ أمر الشراء على المنصة
6. نظام المراقبة يتابع الصفقات المفتوحة ويتخذ قرار البيع عند تحقق الشروط

### آليات الاستقرار

- `watchdog.py` يرسل إشارات "keep-alive" لمنع توقف البوت
- `clean_trades.py` ينشئ نسخًا احتياطية منتظمة من الصفقات
- آليات التعافي التلقائي من أخطاء API والاتصال
- التقارير المنتظمة عبر تلجرام للإبلاغ عن حالة البوت

## استراتيجية التداول

- التركيز حصريًا على العملات ذات حجم التداول العالي (أكثر من 500,000 دولار يوميًا)
- استراتيجية قصيرة المدى تهدف لتحقيق مكاسب صغيرة ومتكررة (بدءًا من 0.01%)
- الحد الأقصى للاحتفاظ بالصفقة 4 ساعات
- 5 صفقات متزامنة كحد أقصى، بقيمة 5 دولار للصفقة الواحدة على الأقل