# دليل تشغيل البوت على منصة Render

هذا الدليل يشرح كيفية نشر وتشغيل بوت التداول الآلي على منصة Render.

## الخطوات

### 1. إنشاء حساب في Render

1. قم بالتسجيل في [Render](https://render.com) إذا لم يكن لديك حساب بالفعل.
2. يمكنك التسجيل باستخدام GitHub للتسهيل.

### 2. إنشاء مشروع جديد

1. من لوحة التحكم في Render، انقر على "New" ثم اختر "Blueprint".
2. اربط مستودع GitHub الذي يحتوي على مشروع البوت.
3. اختر المستودع من القائمة واضغط على "Connect".

### 3. تكوين الخدمة

أثناء إنشاء الـ Blueprint، ستستخدم Render ملف `render.yaml` الموجود في المشروع تلقائيًا. هذا الملف يحتوي على:

- إعدادات تطبيق الويب
- إعدادات قاعدة البيانات PostgreSQL
- الأوامر اللازمة للتثبيت والتشغيل

### 4. إضافة المتغيرات البيئية

بعد إنشاء الخدمة، قم بإضافة متغيرات البيئة اللازمة:

1. انتقل إلى صفحة الخدمة في Render.
2. اضغط على علامة التبويب "Environment".
3. أضف المتغيرات التالية:
   - `MEXC_API_KEY` - مفتاح API الخاص بمنصة MEXC
   - `MEXC_API_SECRET` - المفتاح السري لـ API منصة MEXC
   - `TELEGRAM_BOT_TOKEN` (اختياري) - توكن بوت تلجرام للإشعارات
   - `TELEGRAM_CHAT_ID` (اختياري) - معرف الدردشة على تلجرام

### 5. التأكد من تكوين قاعدة البيانات

Render سيقوم بإنشاء قاعدة بيانات PostgreSQL تلقائيًا بناءً على ملف `render.yaml`. تأكد من:

1. انتقل إلى قسم "Databases" في لوحة تحكم Render.
2. تأكد من وجود قاعدة البيانات `bot-db` وأنها تعمل.
3. سيتم تلقائيًا ربط متغير البيئة `DATABASE_URL` بقاعدة البيانات هذه.

### 6. مراقبة السجلات والأداء

1. انتقل إلى صفحة الخدمة في Render.
2. اضغط على علامة التبويب "Logs" لرؤية سجلات التطبيق.
3. يمكنك مراقبة استخدام الموارد (وحدة المعالجة المركزية والذاكرة) من علامة التبويب "Metrics".

## ميزات وإعدادات متقدمة

### تخصيص الموارد

إذا كنت بحاجة إلى مزيد من الموارد للبوت، يمكنك تعديل خطة الاستضافة:

1. انتقل إلى صفحة الخدمة في Render.
2. اضغط على "Change Plan".
3. اختر الخطة المناسبة للاحتياجات (الخطة المجانية محدودة، لكن الخطط المدفوعة توفر موارد أكثر واستمرارية أفضل).

### إعداد النسخ الاحتياطي لقاعدة البيانات

Render يقدم نسخًا احتياطية تلقائية لقواعد البيانات:

1. انتقل إلى قسم "Databases".
2. اختر قاعدة البيانات الخاصة بك.
3. اضغط على علامة التبويب "Backups" للتحكم في إعدادات النسخ الاحتياطي.

### تعليق الخدمة مؤقتًا

إذا أردت إيقاف البوت مؤقتًا بدون حذفه:

1. انتقل إلى صفحة الخدمة.
2. اضغط على "Suspend" لتعليق الخدمة.
3. يمكنك استئناف الخدمة لاحقًا بالضغط على "Resume".

## ملاحظات هامة

1. **المدة المجانية**: خطة Render المجانية تتيح 750 ساعة شهريًا، وتدخل الخدمة في وضع السكون بعد فترة من عدم النشاط. للاستمرارية الكاملة، ننصح بالترقية إلى خطة مدفوعة.

2. **استمرارية البوت**: ملف `start_render.py` مصمم خصيصًا لبدء تشغيل البوت وواجهة الويب معًا. هذا يضمن أن البوت سيعمل باستمرار طالما أن خدمة Render تعمل.

3. **مراقبة الاستخدام**: راقب استخدام الموارد والتكاليف المحتملة لخدمات Render لتجنب رسوم غير متوقعة.

4. **الأمان**: تعامل Render تلقائيًا مع تشفير HTTPS والمتغيرات البيئية السرية، مما يوفر مستوى عالٍ من الأمان.